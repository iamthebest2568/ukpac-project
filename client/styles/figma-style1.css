/**
 * Figma Style 1 - Design System
 * 
 * A complete vertical layout design system with:
 * - Mobile-first responsive design
 * - Full-screen background with gradient overlay
 * - Bottom-positioned content
 * - Consistent button interactions
 * - Enhanced replay button
 */

/* Main Layout Container */
.figma-style1-container {
  @apply min-h-screen bg-white flex justify-center;
  width: 100%;
  margin: 0;
  padding: 0;
}

/* Ensure figma-style1 inside the global app-container becomes full-bleed */
.app-container .figma-style1-container {
  padding: 0 !important;
  margin: 0 !important;
  width: 100% !important;
  /* Offset the app-container horizontal padding so content becomes full-bleed */
  margin-left: calc(-1 * var(--space-sm));
  margin-right: calc(-1 * var(--space-sm));
}

.figma-style1-content {
  /* Single screen container - exactly one viewport */
  width: 100vw;
  height: 100vh;
  max-width: 100vw;
  max-height: 100vh;
  overflow: hidden;
  position: relative;
  background: transparent;
  margin: 0;
  padding: 0;
}

/* Small phones (320px - 375px) */
@media (max-width: 375px) {
  .figma-style1-content {
    max-width: 100vw;
  }
}

/* Large phones (376px - 430px) - iPhone 14 Plus, etc */
@media (min-width: 376px) and (max-width: 430px) {
  .figma-style1-content {
    max-width: min(100vw, 400px);
  }
}

/* Extra large phones & small tablets (431px - 600px) */
@media (min-width: 431px) and (max-width: 600px) {
  .figma-style1-content {
    max-width: min(100vw, 420px);
  }
}

/* Medium tablets (601px - 768px) */
@media (min-width: 601px) and (max-width: 768px) {
  .figma-style1-content {
    max-width: min(100vw, 450px);
  }
}

/* Large tablets (769px - 1024px) */
@media (min-width: 769px) and (max-width: 1024px) {
  .figma-style1-content {
    max-width: min(100vw, 480px);
  }
}

/* Extra large tablets (1025px - 1279px) */
@media (min-width: 1025px) and (max-width: 1279px) {
  .figma-style1-content {
    max-width: min(100vw, 520px);
  }
}

/* Desktop and larger - maintain original design */
@media (min-width: 1280px) {
  .figma-style1-content {
    max-width: 390px;
  }
}

/* Background System */
.figma-style1-background {
  /* Background fills the viewport; image will be allowed to crop (cover) */
  position: fixed;
  inset: 0;
  z-index: 0;
  background-color: #00d5f9;
  display: flex;
  align-items: center;
  justify-content: center;
}

.figma-style1-background-image {
  /* Fill the viewport and allow cropping to keep visual impact */
  width: 100%;
  height: 100%;
  object-fit: cover; /* allow cropping */
  object-position: center center; /* center focal point */
  display: block;
}


/* Ensure full coverage on all devices */
@media (orientation: landscape) and (max-height: 500px) {
  .figma-style1-background-image {
    object-fit: cover;
    height: 100vh !important;
  }
}

.figma-style1-background-overlay {
  @apply absolute inset-0;
  background: linear-gradient(
    180deg,
    rgba(0, 0, 0, 0) 0%,
    rgba(0, 0, 0, 0.9) 44.17%
  );
}

/* Blue overlay for source selection page - lower curve (convex bottom edge) */
.figma-style1-background-overlay--blue {
  background: var(--figma-style1-blue-overlay, #04D9F9) !important;
  /* fallback if needed */
  z-index: 2;
  pointer-events: none;
}

/* S-shaped wave overlay SVG */
.figma-style1-wave-overlay {
  position: absolute;
  left: 0;
  right: 0;
  bottom: 0;
  width: 100%;
  height: 62%;
  z-index: 5; /* below content (content z-10) */
  pointer-events: none;
  display: block;
}

.figma-style1-wave-overlay path {
  /* Ensure sharp edges and crisp rendering */
  shape-rendering: geometricPrecision;
}

/* Slight adjustments for very small and very large screens */
@media (max-width: 375px) {
  .figma-style1-wave-overlay {
    height: 60%;
  }
}

@media (min-width: 768px) {
  .figma-style1-wave-overlay {
    height: 58%;
  }
}

/* Main Content Layout */
.figma-style1-main {
  /* Main content layer - full viewport with proper responsive layout */
  position: relative;
  z-index: 10;
  display: grid;
  grid-template-rows: 1fr auto;
  height: 100vh;
  overflow: hidden;
  align-items: end;
}

.figma-style1-header {
  @apply flex justify-start;
  /* Fluid header padding */
  padding: min(6vw, 40px);
}

.figma-style1-content-area {
  /* Content takes available space above buttons with responsive centering */
  grid-row: 1;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  text-align: center;
  padding: env(safe-area-inset-top, 20px) min(6vw, 32px) 20px;
  min-height: 0;
  overflow: hidden;
}

/* Typography System - Fluid responsive */
.figma-style1-title {
  @apply text-white text-center font-prompt font-normal leading-normal;
  /* Fluid font size that works on ALL devices */
  font-size: clamp(20px, 6vw, 36px);
  line-height: 1.2;
}

/* Black text variant for source selection */
.figma-style1-title--black {
  @apply text-black;
  font-weight: 600;
}

/* Ensure specific pages (like fake-news) use black title to match Figma */
.figma-style1-container.fake-news-page .figma-style1-title,
.figma-style1-container .fake-news-page .figma-style1-title,
.fake-news-page .figma-style1-title {
  color: var(--figma-style1-text-dark) !important;
  font-weight: 700 !important;
}

/* Ensure button container text remains black on fake-news */
.fake-news-page .figma-style1-button-text {
  color: var(--figma-style1-text-dark) !important;
}

/* On fake-news page, when buttons are hovered (background becomes black), make text white for contrast */
.fake-news-page .figma-style1-button:hover .figma-style1-button-text,
.fake-news-page .figma-style1-button:active .figma-style1-button-text {
  color: #ffffff !important;
}

.figma-style1-subtitle {
  @apply text-white text-center font-prompt font-normal leading-normal;
  font-size: clamp(18px, 5vw, 28px);
  line-height: 1.3;
}

.figma-style1-title-container {
  @apply text-center;
  max-width: min(90vw, 350px);
  padding: 0 min(5vw, 20px);
  margin-bottom: clamp(16px, 4vh, 32px);
  flex-shrink: 1; /* Allow title to shrink if needed */
}

/* Device-specific title optimizations */
@media (min-width: 376px) and (max-width: 430px) {
  .figma-style1-title-container {
    @apply mb-10;
    max-width: min(85vw, 360px);
  }
}

@media (min-width: 431px) and (max-width: 768px) {
  .figma-style1-title-container {
    @apply mb-10;
    max-width: min(80vw, 380px);
  }
}

@media (min-width: 769px) and (max-width: 1279px) {
  .figma-style1-title-container {
    @apply mb-12;
    max-width: min(75vw, 400px);
  }
}

@media (min-width: 1280px) {
  .figma-style1-title-container {
    @apply mb-12 max-w-[325px];
    padding: 0;
  }

  .figma-style1-title {
    font-size: clamp(24px, 7.5vw, 30px);
  }
}

/* Button System - Fluid responsive */
.figma-style1-button-container {
  /* Fixed positioning ensures buttons never disappear from screen */
  position: fixed;
  bottom: env(safe-area-inset-bottom, 20px);
  left: 50%;
  transform: translateX(-50%);
  width: 100%;
  max-width: min(90vw, 325px);
  padding: 0 min(5vw, 20px);
  z-index: 20;
  display: flex;
  flex-direction: column;
  gap: 16px; /* space-y-4 equivalent */
  flex-shrink: 0;
}

.figma-style1-button {
  @apply w-full rounded-[40px] border-[1.5px] border-black flex items-center justify-center transition-all duration-200 hover:scale-105 hover:shadow-lg hover:bg-black active:bg-black;
  /* Fluid button height */
  height: clamp(50px, 12vw, 58px);
  min-height: 50px;
  background-color: #FFE000;
}

.figma-style1-button-text {
  @apply text-black text-center font-prompt font-medium leading-7 tracking-[0.4px];
  /* Fluid text size */
  font-size: clamp(16px, 4vw, 20px);
}

/* Large phones optimization (iPhone 14 Plus, etc.) */
@media (min-width: 376px) and (max-width: 430px) {
  .figma-style1-button-container {
    max-width: min(85vw, 350px);
  }
}

/* Small to medium tablets */
@media (min-width: 431px) and (max-width: 768px) {
  .figma-style1-button-container {
    max-width: min(80vw, 380px);
    @apply space-y-5;
  }
}

/* Large tablets */
@media (min-width: 769px) and (max-width: 1279px) {
  .figma-style1-button-container {
    max-width: min(75vw, 400px);
    @apply space-y-5;
  }

  .figma-style1-button {
    @apply h-[58px];
  }

  .figma-style1-button-text {
    @apply text-xl;
  }
}

/* Desktop - maintain original */
@media (min-width: 1280px) {
  .figma-style1-button-container {
    @apply max-w-[325px] space-y-4;
    padding: 0;
  }

  .figma-style1-button {
    @apply h-[53px];
  }

  .figma-style1-button-text {
    @apply text-lg;
  }
}

.figma-style1-button {
  @apply w-full h-[53px] rounded-[40px] border-[1.5px] border-black flex items-center justify-center transition-all duration-200 hover:scale-105 hover:shadow-lg hover:bg-black active:bg-black;
  background-color: #FFE000;
}

/* Secondary (yellow) variant for figma-style1 buttons */
.figma-style1-button--secondary {
  @apply w-full h-[53px] rounded-[40px] border-[1.5px] border-black flex items-center justify-center transition-all duration-200 hover:scale-105 hover:shadow-lg hover:bg-black;
  background-color: #FFE000;
}

.figma-style1-button--secondary .figma-style1-button-text {
  @apply text-black;
}

.figma-style1-button--secondary:hover .figma-style1-button-text,
.figma-style1-button--secondary:active .figma-style1-button-text {
  color: #FFE000;
}

.figma-style1-button-text {
  @apply text-black text-center font-prompt text-lg font-medium leading-7 tracking-[0.4px];
}

.figma-style1-button:hover .figma-style1-button-text,
.figma-style1-button:active .figma-style1-button-text {
  color: #FFE000;
}

/* Dark variant for figma-style1 buttons */
.figma-style1-button--dark {
  @apply w-full h-[53px] rounded-[40px] bg-black border-[1.5px] border-black flex items-center justify-center transition-all duration-200 hover:scale-105 hover:shadow-lg;
  background-color: black;
}

.figma-style1-button--dark:hover {
  background-color: #FFE000;
}

.figma-style1-button-text--dark {
  @apply text-center font-prompt text-lg font-medium leading-7 tracking-[0.4px];
  color: #FFE000;
}

.figma-style1-button--dark:hover .figma-style1-button-text--dark,
.figma-style1-button--dark:active .figma-style1-button-text--dark {
  color: #000000;
}

/* Replay Button System */
.figma-style1-replay-button {
  @apply transition-all duration-200 hover:scale-105;
}

.figma-style1-replay-svg {
  @apply w-[68px] h-[84px] md:w-[76px] md:h-[95px];
}

/* Accessibility */
.figma-style1-sr-only {
  @apply sr-only;
}

/* Color Palette Variables for figma-style1 */
:root {
  --figma-style1-primary: #FFE000;
  --figma-style1-text-dark: #000000;
  --figma-style1-text-light: #ffffff;
  --figma-style1-overlay-start: rgba(0, 0, 0, 0);
  --figma-style1-overlay-end: rgba(0, 0, 0, 0.9);
  --figma-style1-blue-overlay: #04D9F9;
}

/* Enhanced small screen support */
@media (max-width: 430px) {
  .figma-style1-content {
    max-width: 100vw;
  }

  .figma-style1-button-container {
    max-width: 95vw;
    padding: 0 2.5vw;
  }

  .figma-style1-title-container {
    max-width: 95vw;
    padding: 0 2.5vw;
  }

  /* Reduce title and button sizes on smaller phones to keep everything visible */
  .figma-style1-title {
    font-size: clamp(16px, 5.2vw, 28px) !important;
    line-height: 1.1;
  }

  .figma-style1-button {
    height: clamp(44px, 10vw, 50px) !important;
  }

  .figma-style1-button-text {
    font-size: clamp(14px, 3.6vw, 18px) !important;
  }
}

@media (max-width: 360px) {
  .figma-style1-title {
    font-size: 15px !important;
  }

  .figma-style1-button {
    height: 44px !important;
  }

  .figma-style1-button-text {
    font-size: 13px !important;
  }

  .figma-style1-button-container {
    padding: 0 4vw;
    bottom: 12px; /* Smaller bottom margin on tiny screens */
  }

  .figma-style1-content-area {
    padding-bottom: 120px; /* Reduce space for buttons on small screens */
  }
}

/* Force figma-style1 pages to be full-bleed across viewport by default (no fixed positioning) */
.figma-style1-container,
.figma-style1-container .figma-style1-content {
  width: 100vw !important;
  max-width: 100vw !important;
  margin: 0 !important;
  padding: 0 !important;
  position: static !important;
  left: auto !important;
  top: auto !important;
  height: auto !important;
  z-index: auto !important;
  transform: none !important;
}

/* Also remove any horizontal padding from app-container when rendering figma-style1 */
.app-container > .figma-style1-container {
  padding-left: 0 !important;
  padding-right: 0 !important;
  margin-left: 0 !important;
  margin-right: 0 !important;
  max-width: none !important;
  width: 100vw !important;
}

/* Revert to framed 1080x1920 view on wider screens (desktop) */
@media (min-width: 1081px) {
  .figma-style1-container,
  .figma-style1-container .figma-style1-content {
    position: static !important;
    width: 1080px !important;
    max-width: 1080px !important;
    height: auto !important;
    left: auto !important;
    top: auto !important;
    transform: none !important;
    z-index: auto !important;
    margin: 40px auto !important;
    border-radius: 40px !important;
    box-shadow: 0 0 30px rgba(0,0,0,0.5) !important;
  }

  .app-container > .figma-style1-container {
    max-width: 1080px !important;
    width: 1080px !important;
  }
}

/* Apply FigmaStyle1 as default app layout across the project (CSS-only)
   This copies the visual style of /source-selection to the global .app-container.
   Mobile-first: full-bleed. Desktop: revert to framed 1080x1920. */

.app-container {
  width: 100vw !important;
  max-width: 100vw !important;
  height: 100vh !important;
  position: fixed !important;
  inset: 0;
  overflow: hidden !important;
  margin: 0 !important;
  padding: 0 !important;
  display: flex !important;
  flex-direction: column !important;
  align-items: center;
  justify-content: center;
  background-image: var(--figma-default-bg);
  background-size: cover;
  background-position: top center;
  background-repeat: no-repeat;
  z-index: 0;
}

.app-container::before {
  content: '';
  position: absolute;
  left: 0;
  right: 0;
  bottom: 0;
  height: 62%;
  background: var(--figma-style1-blue-overlay, #04D9F9);
  pointer-events: none;
  z-index: 1;
}

/* Make main content render above the background */
#main-content {
  position: relative;
  z-index: 10;
  width: 100%;
  display: flex;
  flex-direction: column;
  min-height: 0;
}

#main-content > * {
  flex: 1 1 auto;
  min-height: 0;
}

/* Ensure figma-style1 content areas remain centered and full-width */
.figma-style1-title-container,
.figma-style1-button-container,
.figma-style1-content-area {
  margin-left: auto;
  margin-right: auto;
  width: 100%;
  max-width: 1080px;
  padding-left: 6vw;
  padding-right: 6vw;
}

/* Desktop: revert to framed 1080x1920 phone simulator */
@media (min-width: 1081px) {
  .app-container {
    position: static !important;
    width: 1080px !important;
    height: 1920px !important;
    margin: 40px auto !important;
    border-radius: 40px !important;
    box-shadow: 0 0 30px rgba(0,0,0,0.5) !important;
    overflow: visible !important;
  }

  .app-container::before {
    display: none;
  }
}

/* Device-specific fine-tuning for optimal UX */
@media (max-width: 375px) {
  .figma-style1-content-area {
    padding-bottom: min(6vh, 32px);
  }
}

@media (min-width: 376px) and (max-width: 430px) {
  .figma-style1-content-area {
    padding-bottom: min(7vh, 40px);
  }
}

@media (min-width: 769px) and (max-width: 1279px) {
  .figma-style1-content-area {
    padding-bottom: min(10vh, 64px);
  }
}

@media (min-width: 1280px) {
  .figma-style1-header {
    padding: 40px;
  }

  .figma-style1-content-area {
    padding-left: 32px;
    padding-right: 32px;
    padding-bottom: 48px;
  }
}
