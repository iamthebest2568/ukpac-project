/*
 * Figma Style 1 - Design System
 * 
 * A complete vertical layout design system with:
 * - Mobile-first responsive design
 * - Full-screen background with gradient overlay
 * - Bottom-positioned content
 * - Consistent button interactions
 * - Enhanced replay button
 */

/* Main Layout Container */
.figma-style1-container {
  @apply min-h-screen bg-white flex justify-center;
  width: 100%;
  margin: 0;
  padding: 0;
}

/* Ensure figma-style1 inside the global app-container becomes full-bleed */
.app-container .figma-style1-container {
  padding: 0 !important;
  margin: 0 !important;
  width: 100% !important;
}

.figma-style1-content {
  /* Single screen container aligned within app-container */
  width: 100%;
  height: 100%;
  max-width: 100%;
  max-height: 100%;
  overflow: hidden;
  position: relative;
  background: transparent;
  margin: 0 auto;
  padding: 0;
}

/* Small phones (320px - 375px) */
@media (max-width: 375px) {
  .figma-style1-content {
    max-width: 100vw;
  }
}

/* Large phones (376px - 430px) - iPhone 14 Plus, etc */
@media (min-width: 376px) and (max-width: 430px) {
  .figma-style1-content {
    max-width: min(100%, 400px);
  }
}

/* Extra large phones & small tablets (431px - 600px) */
@media (min-width: 431px) and (max-width: 600px) {
  .figma-style1-content {
    max-width: min(100%, 420px);
  }
}

/* Medium tablets (601px - 768px) */
@media (min-width: 601px) and (max-width: 768px) {
  .figma-style1-content {
    max-width: min(100%, 450px);
  }
}

/* Large tablets (769px - 1024px) */
@media (min-width: 769px) and (max-width: 1024px) {
  .figma-style1-content {
    max-width: min(100%, 480px);
  }
}

/* Extra large tablets (1025px - 1279px) */
@media (min-width: 1025px) and (max-width: 1279px) {
  .figma-style1-content {
    max-width: min(100%, 520px);
  }
}

/* Desktop and larger - maintain original design */
@media (min-width: 1280px) {
  .figma-style1-content {
    max-width: 390px;
  }
}

/* Background System */
.figma-style1-background {
  /* Background fills the viewport; image will be allowed to crop (cover) */
  position: fixed;
  inset: 0;
  z-index: 0;
  background-color: var(--figma-style1-bg-fill, #ffffff);
  background-image: url("https://api.builder.io/api/v1/image/assets/TEMP/1ca30c44dc55682aa7c0c1273799b2f3f61b5c99?width=2160");
  background-size: cover;
  background-position: center center;
  background-repeat: no-repeat;
  display: flex;
  align-items: center;
  justify-content: center;
}

.figma-style1-background-image {
  position: absolute !important;
  inset: 0 !important;
  width: 100% !important;
  height: 100% !important;
  object-fit: cover !important;
  object-position: top center !important; /* show top of vertical images on mobile */
  z-index: 0 !important;
  display: block !important;
  pointer-events: none !important;
}

.figma-style1-background {
  position: absolute !important;
  inset: 0 !important;
  z-index: 0 !important;
  overflow: hidden !important;
}

/* Ensure full coverage on all devices */
@media (orientation: landscape) and (max-height: 500px) {
  .figma-style1-background-image {
    object-fit: cover;
    height: 100vh !important;
  }
}

.figma-style1-background-overlay {
  display: none !important;
}

/* Blue overlay for source selection page - lower curve (convex bottom edge) */
.figma-style1-background-overlay--blue {
  background: var(--figma-style1-blue-overlay, #04d9f9) !important;
  /* fallback if needed */
  z-index: 2;
  pointer-events: none;
}

/* S-shaped wave overlay SVG */
.figma-style1-wave-overlay {
  display: none !important;
}

.figma-style1-wave-overlay path {
  /* Ensure sharp edges and crisp rendering */
  shape-rendering: geometricPrecision;
}

/* Slight adjustments for very small and very large screens */
@media (max-width: 375px) {
  .figma-style1-wave-overlay {
    height: 60%;
  }
}

@media (min-width: 768px) {
  .figma-style1-wave-overlay {
    height: 58%;
  }
}

/* Main Content Layout */
.figma-style1-main {
  /* Main content layer - back to grid layout but with better centering */
  position: relative;
  z-index: 10;
  display: grid;
  grid-template-rows: 1fr auto;
  height: 100%;
  overflow: hidden;
  align-items: end;
  justify-items: center;
}

/* Ensure background image covers the viewport fully (max-width on mobile) */
.figma-style1-background-image {
  width: 100vw !important;
  height: 100vh !important;
  object-fit: cover !important;
  object-position: top center !important;
}

/* Mobile: pin content to the bottom and make buttons sit below text */
@media (max-width: 430px) {
  .figma-style1-main {
    align-items: end !important; /* push content to bottom */
    justify-items: center;
  }

  .figma-style1-content-area {
    display: flex !important;
    flex-direction: column !important;
    justify-content: flex-end !important; /* place title and children near bottom */
    align-items: center !important; /* center horizontally */
    padding-bottom: 8px !important;
    box-sizing: border-box !important;
  }

  .figma-style1-title {
    /* Increase width and allow multi-line, keep it visible above buttons */
    font-size: clamp(18px, 5.2vw, 22px) !important;
    margin-bottom: 12px !important;
    text-align: center !important;
    width: 100% !important;
  }

  .figma-style1-title-container {
    padding-left: 12px !important;
    padding-right: 12px !important;
    max-width: 720px !important;
    box-sizing: border-box !important;
  }

  .figma-style1-button-container {
    width: 100% !important;
    padding-left: 0 !important;
    padding-right: 0 !important;
    padding-bottom: 18px !important;
    margin-top: 8px !important;
    box-sizing: border-box !important;
    display: flex !important;
    flex-direction: column !important;
    gap: 12px !important;
    align-items: center !important; /* center buttons */
  }

  .figma-style1-button {
    width: 100% !important;
    max-width: 340px !important; /* constrain button width and keep centered */
    margin: 0 auto !important;
  }
}

/* Specific tuning for fake-news page: lift content slightly so it doesn't sit under the curved overlay */
.figma-style1-container.fake-news-page .figma-style1-main {
  align-items: center; /* move content higher so text/buttons stay visible */
}

/* Reduce height of blue overlay on small screens to avoid covering buttons */
.figma-style1-background-overlay--blue {
  position: absolute;
  left: 0;
  right: 0;
  bottom: 0;
  height: 42%;
  z-index: 2;
}

@media (max-width: 375px) {
  .figma-style1-background-overlay--blue {
    height: 36%;
  }
}

@media (min-width: 376px) and (max-width: 430px) {
  .figma-style1-background-overlay--blue {
    height: 40%;
  }
}

@media (min-width: 431px) and (max-width: 768px) {
  .figma-style1-background-overlay--blue {
    height: 45%;
  }
}

.figma-style1-header {
  @apply flex justify-start;
  /* Fluid header padding */
  padding: min(6vw, 40px);
}

.figma-style1-content-area {
  /* Content takes available space above buttons - working layout */
  grid-row: 1;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  text-align: center;
  /* Put padding back for visibility */
  padding: 20px;
  min-height: 0;
  overflow: hidden;
}

/* Typography System - Fluid responsive */
.figma-style1-title {
  @apply text-white text-center font-prompt font-bold;
  /* Responsive font sizing that works on all devices */
  font-size: clamp(16px, 4.5vw, 28px);
  line-height: clamp(1.1, 1.3, 1.4);
  letter-spacing: 0.3px;
  text-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
  margin: 0;
  padding: 0;
  word-wrap: break-word;
  hyphens: auto;
}

/* Black text variant for source selection */
.figma-style1-title--black {
  @apply text-black;
  font-weight: 600;
}

/* Ensure specific pages (like fake-news) use black title to match Figma */
.figma-style1-container.fake-news-page .figma-style1-title,
.figma-style1-container .fake-news-page .figma-style1-title,
.fake-news-page .figma-style1-title {
  color: var(--figma-style1-text-dark) !important;
  font-weight: 700 !important;
}

/* Make Ask04 and Ask04Budget titles black to improve readability on their backgrounds */
.ask04-page .figma-style1-title,
.ask04-budget-page .figma-style1-title,
.ask05-page .figma-style1-title,
.ask02-page .figma-style1-title {
  color: #000 !important;
  font-weight: 700 !important;
}

/* End-sequence page: increase spacing between title and action buttons, and allow title to use wider container */
.end-sequence-page .figma-style1-title-container {
  max-width: 980px !important;
  padding-left: 20px !important;
  padding-right: 20px !important;
}
.end-sequence-page .figma-style1-title {
  width: 100% !important;
  max-width: 980px !important;
  margin-bottom: 20px !important; /* base spacing from title to following content */
  text-align: center !important;
}
/* Target the specific button group spacing on the end-sequence form (uses mt-8 utility) */
.end-sequence-page .mt-8 {
  margin-top: clamp(48px, 8vw, 96px) !important;
}

/* Ensure headings remain readable on all viewports */
.end-sequence-page .figma-style1-title,
.end-sequence-page h1,
.end-sequence-page h2 {
  color: #000 !important;
  letter-spacing: 0.2px !important;
}

/* Ensure button container text remains black on fake-news */
.fake-news-page .figma-style1-button-text {
  color: var(--figma-style1-text-dark) !important;
}

/* On fake-news page, when buttons are hovered (background becomes black), make text white for contrast */
.fake-news-page .figma-style1-button:hover .figma-style1-button-text,
.fake-news-page .figma-style1-button:active .figma-style1-button-text {
  color: #ffffff !important;
}

.figma-style1-subtitle {
  @apply text-white text-center font-prompt font-normal leading-normal;
  font-size: clamp(18px, 5vw, 28px);
  line-height: 1.3;
}

.figma-style1-title-container {
  /* Simple centering layout */
  width: 100%;
  max-width: 380px;
  margin: 0 auto;
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  padding: 0 20px;
  box-sizing: border-box;
}

/* Simplified responsive rules work better with the new grid system */

/* Button System - Fluid responsive */
.figma-style1-button-container {
  /* Working grid layout with proper padding */
  z-index: 11; /* above overlay */
  position: relative;
  padding-bottom: 16px; /* ensure buttons are visible above curve */
  grid-row: 2;
  width: 100%;
  max-width: 380px;
  margin: 0 auto;
  /* Put padding back for visibility */
  padding: 20px;
  display: flex;
  flex-direction: column;
  gap: clamp(12px, 3vh, 20px);
  flex-shrink: 0;
  z-index: 20;
}

.figma-style1-button {
  @apply w-full rounded-[40px] border-[1.5px] border-black flex items-center justify-center transition-all duration-200 hover:scale-105 hover:shadow-lg hover:bg-black active:bg-black;
  /* Responsive height that ensures tappability */
  height: clamp(44px, 10vh, 60px);
  min-height: 44px;
  max-height: 60px;
  background-color: #ffe000;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

.figma-style1-button-text {
  @apply text-black text-center font-prompt font-medium;
  /* Responsive text size that's readable on all devices */
  font-size: clamp(14px, 3.5vw, 18px);
  line-height: 1.3;
  letter-spacing: 0.2px;
  word-wrap: break-word;
}

/* Large phones optimization (iPhone 14 Plus, etc.) */
@media (min-width: 376px) and (max-width: 430px) {
  .figma-style1-button-container {
    max-width: min(85vw, 350px);
  }
}

/* Small to medium tablets */
@media (min-width: 431px) and (max-width: 768px) {
  .figma-style1-button-container {
    max-width: min(80vw, 380px);
    @apply space-y-5;
  }
}

/* Large tablets */
@media (min-width: 769px) and (max-width: 1279px) {
  .figma-style1-button-container {
    max-width: min(75vw, 400px);
    @apply space-y-5;
  }

  .figma-style1-button {
    @apply h-[58px];
  }

  .figma-style1-button-text {
    @apply text-xl;
  }
}

/* Desktop - maintain original */
@media (min-width: 1280px) {
  .figma-style1-button-container {
    @apply max-w-[325px] space-y-4;
    padding: 0;
  }

  .figma-style1-button {
    @apply h-[53px];
  }

  .figma-style1-button-text {
    @apply text-lg;
  }
}

/* Removed duplicate - using responsive definition above */

/* Secondary (yellow) variant for figma-style1 buttons */
.figma-style1-button--secondary {
  @apply w-full h-[53px] rounded-[40px] border-[1.5px] border-black flex items-center justify-center transition-all duration-200 hover:scale-105 hover:shadow-lg hover:bg-black;
  background-color: #ffe000;
}
/* Compress MN2 summary action buttons */
.mn2-summary-page [class*="rounded-[50px]"] {
  height: clamp(44px, 6.5vw, 72px) !important;
  width: min(820px, 82vw) !important;
}
.mn2-summary-page button[onClick] span,
.mn2-summary-page button span {
  font-size: clamp(12px, 3vw, 18px) !important;
}

.figma-style1-button--secondary .figma-style1-button-text {
  @apply text-black;
}

.figma-style1-button--secondary:hover .figma-style1-button-text,
.figma-style1-button--secondary:active .figma-style1-button-text {
  color: #ffe000;
}

/* Removed duplicate - using responsive definition above */

.figma-style1-button:hover .figma-style1-button-text,
.figma-style1-button:active .figma-style1-button-text {
  color: #ffe000;
}

/* Dark variant for figma-style1 buttons */
.figma-style1-button--dark {
  @apply w-full h-[53px] rounded-[40px] bg-black border-[1.5px] border-black flex items-center justify-center transition-all duration-200 hover:scale-105 hover:shadow-lg;
  background-color: black;
}

.figma-style1-button--dark:hover {
  background-color: #ffe000;
}

.figma-style1-button-text--dark {
  @apply text-center font-prompt text-lg font-medium leading-7 tracking-[0.4px];
  color: #ffe000;
}

.figma-style1-button--dark:hover .figma-style1-button-text--dark,
.figma-style1-button--dark:active .figma-style1-button-text--dark {
  color: #000000;
}

/* Replay Button System */
.figma-style1-replay-button {
  @apply transition-all duration-200 hover:scale-105;
}

.figma-style1-replay-svg {
  @apply w-[68px] h-[84px] md:w-[76px] md:h-[95px];
}

/* Accessibility */
.figma-style1-sr-only {
  @apply sr-only;
}

/* Color Palette Variables for figma-style1 */
:root {
  --figma-style1-primary: #ffe000;
  --figma-style1-text-dark: #000000;
  --figma-style1-text-light: #ffffff;
  --figma-style1-overlay-start: rgba(0, 0, 0, 0);
  --figma-style1-overlay-end: rgba(0, 0, 0, 0.9);
  --figma-style1-blue-overlay: #04d9f9;
}

/* Fine-tune for very small screens only */
@media (max-width: 320px) {
  .figma-style1-title {
    font-size: 15px !important;
    line-height: 1.2 !important;
  }

  .figma-style1-button {
    height: 44px !important;
  }

  .figma-style1-button-text {
    font-size: 13px !important;
  }
}

/* Simplified full-bleed for single-screen responsive layout */
.figma-style1-container {
  width: 100% !important;
  height: 100% !important;
  max-width: 100% !important;
  max-height: 100% !important;
  margin: 0 !important;
  padding: 0 !important;
  overflow: hidden !important;
  position: relative !important;
  display: block !important; /* Override app-container flex */
}

/* Override global.css app-container conflicts for figma-style1 */
.app-container .figma-style1-container {
  height: 100vh !important;
  min-height: 100vh !important;
  flex: none !important;
}

.app-container .figma-style1-content {
  height: 100vh !important;
  min-height: 100vh !important;
  overflow: hidden !important;
}

/* Ensure figma-style1 works on desktop frame too */
@media (min-width: 1081px) {
  .app-container .figma-style1-container {
    width: 100% !important;
    height: 100% !important;
    margin: 0 !important;
    border-radius: 0 !important;
    box-shadow: none !important;
  }
}

/* Also remove any horizontal padding from app-container when rendering figma-style1 */
.app-container > .figma-style1-container {
  padding-left: 0 !important;
  padding-right: 0 !important;
  margin-left: 0 !important;
  margin-right: 0 !important;
  max-width: none !important;
  width: 100vw !important;
}

/* Simplified desktop handling - let the responsive grid system work */

/* Removed global app-container overrides - let global.css handle them normally */

/* Cleaned up device-specific rules - using simplified responsive system above */

/* Final compatibility rules: ensure figma-style1 works within app-container */

/* ===================================================================
   UKPACK1 - Unified button appearance
   Make all primary and secondary buttons across the ukpack1 pages share
   the same visual style as the "ไปต��อ" button in minigame-mn1.
   Only visual appearance is changed (background / text / hover / border)
   max-width, layout and per-page sizing rules are preserved.
   =================================================================== */

/* Target common button classes used across ukpack1 pages */
.app-container .figma-style1-button,
.app-container .btn-large,
.app-container .btn-primary,
.app-container .mn3-policy-button,
.app-container .mn3-continue-button,
.app-container .figma-style1-button--secondary,
.app-container .figma-style1-button--dark {
  /* Visual base to match mn3 continue button */
  background-color: #ffe000 !important; /* yellow base */
  color: #000 !important; /* black text by default */
  border: none !important; /* remove visible border */
  box-shadow: none !important; /* no extra shadow by default */
  border-radius: 40px !important; /* consistent rounded corners */
  font-weight: 500 !important;
  transition: all 0.18s ease !important;
}

/* Hover / active states: become black with white text, no border */
.app-container .figma-style1-button:hover,
.app-container .btn-large:hover,
.app-container .btn-primary:hover,
.app-container .mn3-policy-button:hover,
.app-container .mn3-continue-button:hover,
.app-container .figma-style1-button--secondary:hover,
.app-container .figma-style1-button--dark:hover {
  background-color: #000 !important;
  color: #fff !important;
  transform: scale(1.03) !important;
}

.app-container .figma-style1-button:active,
.app-container .btn-large:active,
.app-container .btn-primary:active,
.app-container .mn3-policy-button:active,
.app-container .mn3-continue-button:active,
.app-container .figma-style1-button--secondary:active,
.app-container .figma-style1-button--dark:active {
  transform: scale(0.98) !important;
}

/* Disabled state should simply reduce opacity */
.app-container .figma-style1-button:disabled,
.app-container .btn-large:disabled,
.app-container .btn-primary:disabled,
.app-container .mn3-policy-button:disabled,
.app-container .mn3-continue-button:disabled,
.app-container .figma-style1-button--secondary:disabled,
.app-container .figma-style1-button--dark:disabled {
  opacity: 0.5 !important;
  cursor: not-allowed !important;
  transform: none !important;
}

/* Ensure text contrast and prevent border bleed for small variations */
.app-container .figma-style1-button .figma-style1-button-text,
.app-container .btn-large span,
.app-container .mn3-policy-button .mn3-button-text {
  color: inherit !important;
}

/* Keep per-page max-width and sizing intact (these rules only change visuals) */
/* End unified button appearance */

/* Selected state for unified figma-style1 buttons: persistent visual when a button is chosen */
.app-container .figma-style1-button.figma-style1-button--selected,
.app-container .figma-style1-button--selected {
  background-color: #000 !important;
  color: #fff !important;
  transform: scale(1.03) !important;
}

.app-container
  .figma-style1-button.figma-style1-button--selected
  .figma-style1-button-text,
.app-container .figma-style1-button--selected .figma-style1-button-text {
  color: #fff !important;
}

/* Keep focus visible for accessibility when toggled */
.app-container .figma-style1-button.figma-style1-button--selected:focus,
.app-container .figma-style1-button--selected:focus {
  outline: 3px solid rgba(255, 255, 255, 0.12);
  outline-offset: 2px;
}

/* End selected state styles */

/* Summary cards for MN3 result page */
.mn3-summary-list {
  max-width: 880px;
  margin: 0 auto 10px auto;
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.mn3-summary-card {
  display: flex;
  align-items: center;
  gap: 16px;
  padding: 16px;
  border-radius: 14px;
  background: rgba(255, 255, 255, 0.95);
  box-shadow: 0 10px 24px rgba(0, 0, 0, 0.06);
}

.mn3-summary-card-left {
  flex: 0 0 80px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.mn3-summary-icon {
  width: 64px;
  height: 64px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 28px;
  background: transparent;
  color: #ffffff; /* emoji/text inside icon should be white for contrast */
  box-shadow: 0 6px 14px rgba(0, 0, 0, 0.08);
}

.mn3-summary-card-body {
  flex: 1 1 auto;
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.mn3-summary-card-title {
  font-family: "Prompt", sans-serif;
  font-weight: 800;
  color: #000d59;
  font-size: 18px;
}

.mn3-summary-card-meta {
  font-size: 15px;
  color: #333;
  display: flex;
  gap: 8px;
  align-items: baseline;
}

.mn3-summary-bar-wrap {
  width: 100%;
  height: 10px;
  background: rgba(0, 0, 0, 0.06);
  border-radius: 10px;
  overflow: hidden;
}

.mn3-summary-bar {
  height: 100%;
  border-radius: 10px;
  transition: width 400ms cubic-bezier(0.2, 0.8, 0.2, 1);
}

/* color variants */
.mn3-summary-card--green .mn3-summary-icon,
.mn3-summary-card--green .mn3-summary-bar {
  background: linear-gradient(90deg, #00c853, #66eeb3);
}

.mn3-summary-card--yellow .mn3-summary-icon,
.mn3-summary-card--yellow .mn3-summary-bar {
  background: linear-gradient(90deg, #ffe000, #ffd54f);
}

.mn3-summary-card--red .mn3-summary-icon,
.mn3-summary-card--red .mn3-summary-bar {
  background: linear-gradient(90deg, #ff5252, #ff8a80);
}

/* subtle card background tints */
.mn3-summary-card--green {
  background: linear-gradient(
    180deg,
    rgba(0, 200, 83, 0.05),
    rgba(255, 255, 255, 0.96)
  );
}
.mn3-summary-card--yellow {
  background: linear-gradient(
    180deg,
    rgba(255, 224, 0, 0.04),
    rgba(255, 255, 255, 0.96)
  );
}
.mn3-summary-card--red {
  background: linear-gradient(
    180deg,
    rgba(255, 82, 82, 0.03),
    rgba(255, 255, 255, 0.97)
  );
}

/* ensure good spacing on small screens */
@media (max-width: 480px) {
  .mn3-summary-card {
    padding: 12px;
    gap: 10px;
  }

  .mn3-summary-card-left {
    flex: 0 0 56px;
  }
  .mn3-summary-icon {
    width: 48px;
    height: 48px;
    font-size: 20px;
  }
  .mn3-summary-card-title {
    font-size: 15px;
  }
}

@media (min-width: 1024px) {
  .mn3-summary-card-left {
    flex: 0 0 96px;
  }
  .mn3-summary-icon {
    width: 72px;
    height: 72px;
    font-size: 32px;
  }
  .mn3-summary-card-title {
    font-size: 20px;
  }
  .mn3-summary-bar-wrap {
    height: 12px;
  }
}

/* Grid layout for summary + visual */
.mn3-summary-grid {
  display: grid;
  grid-template-columns: 1fr 320px;
  gap: 20px;
  align-items: start;
  max-width: 980px;
  margin: 0 auto 12px auto;
}

.mn3-summary-grid-left {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.mn3-summary-grid-right {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 12px;
}

.mn3-result-pie {
  width: 220px;
  height: 220px;
  border-radius: 999px;
  box-shadow: 0 8px 22px rgba(0, 0, 0, 0.08);
  display: block;
  margin-bottom: 8px;
}

.mn3-result-legend {
  width: 100%;
  max-width: 320px;
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.mn3-legend-row {
  display: flex;
  align-items: center;
  gap: 10px;
  justify-content: space-between;
}
.mn3-legend-swatch {
  width: 18px;
  height: 18px;
  border-radius: 4px;
  display: inline-block;
  flex: 0 0 18px;
}
.mn3-legend-label {
  flex: 1 1 auto;
  color: #222;
  font-weight: 600;
}
.mn3-legend-value {
  color: #444;
  font-weight: 700;
}

.mn3-legend-total {
  margin-top: 8px;
  font-weight: 700;
  color: #000d59;
  text-align: center;
}

@media (max-width: 860px) {
  .mn3-summary-grid {
    grid-template-columns: 1fr;
  }
  .mn3-result-pie {
    width: 180px;
    height: 180px;
  }
}

/* Ensure MN3 policy buttons keep their selected (black) appearance even after unified overrides */
.app-container .mn3-policy-button.mn3-policy-button--selected,
.app-container .mn3-policy-button--selected {
  background-color: #000 !important;
  color: #ffe000 !important;
}

.app-container .mn3-policy-button.mn3-policy-button--selected .mn3-button-text,
.app-container .mn3-policy-button--selected .mn3-button-text {
  color: #ffe000 !important;
}

/* Slightly darker hover for an already selected MN3 policy button */
.app-container .mn3-policy-button.mn3-policy-button--selected:hover,
.app-container .mn3-policy-button--selected:hover {
  background-color: #111 !important;
}

/* Final compatibility rules: ensure figma-style1 works within app-container */
.app-container .figma-style1-container {
  flex: none !important; /* Don't let app-container flex affect us */
  min-height: 100vh !important; /* Ensure full viewport height */
}

/* Mobile-first full-bleed adjustments (no side whitespace) ----------------------------------
   Makes figma-style1 pages use the full viewport width on phones so there is no
   left/right whitespace. Keeps safe-area insets for notches but removes fixed
   side paddings and per-page max-widths on smaller screens.
--------------------------------------------------------------------------------------------*/
@media (max-width: 430px) {
  /* Make core content truly full-bleed */
  .figma-style1-content,
  .app-container .figma-style1-content {
    width: 100vw !important;
    max-width: 100vw !important;
    min-width: 100vw !important;
    padding-left: 0 !important;
    padding-right: 0 !important;
    margin: 0 !important;
  }

  /* Title container spans full width and removes internal horizontal padding */
  .figma-style1-title-container {
    max-width: 100vw !important;
    width: 100% !important;
    padding-left: 12px !important;
    padding-right: 12px !important;
    box-sizing: border-box !important;
  }

  /* Buttons: full width, pinned to edges with safe-area padding */
  .figma-style1-button-container {
    max-width: 100vw !important;
    width: 100% !important;
    padding-left: 12px !important;
    padding-right: 12px !important;
    padding-bottom: 12px !important;
    margin: 0 !important;
    gap: clamp(8px, 2.5vh, 16px) !important;
    box-sizing: border-box !important;
  }

  /* Slightly reduce the top content padding so title moves closer to top on small phones */
  .figma-style1-content-area {
    padding-left: 0 !important;
    padding-right: 0 !important;
    padding-top: 12px !important;
    padding-bottom: 8px !important;
  }

  /* Ensure buttons remain tappable while taking full width */
  .figma-style1-button {
    border-radius: 28px !important;
    width: 100% !important;
    max-width: 100% !important;
    box-sizing: border-box !important;
  }
}

/* Extra-tight full-bleed for very small phones */
@media (max-width: 375px) {
  .figma-style1-title-container {
    padding-left: 10px !important;
    padding-right: 10px !important;
  }

  .figma-style1-button-container {
    padding-left: 10px !important;
    padding-right: 10px !important;
  }
}

/* Override any global.css interference without targeting Tailwind classes directly */
.figma-style1-container,
.figma-style1-content,
.figma-style1-main {
  min-height: 100% !important;
  height: 100% !important;
  overflow: hidden !important;
}

/* Comprehensive centering rules to fix right drift */
.figma-style1-container {
  text-align: center !important;
}

/* Dialog specific styling to ensure proper display */
[data-radix-dialog-overlay] {
  position: fixed !important;
  inset: 0 !important;
  z-index: 100 !important;
  background-color: rgba(0, 0, 0, 0.8) !important;
}

[data-radix-dialog-content] {
  position: fixed !important;
  left: 50% !important;
  top: 50% !important;
  z-index: 101 !important;
  transform: translate(-50%, -50%) !important;
  width: 90% !important;
  max-width: 420px !important;
  max-height: 80vh !important;
  overflow-y: auto !important;
  background: white !important;
  border-radius: 12px !important;
  box-shadow:
    0 20px 25px -5px rgba(0, 0, 0, 0.1),
    0 10px 10px -5px rgba(0, 0, 0, 0.04) !important;
}

/* Ensure dialog buttons are properly styled and clickable */
[data-radix-dialog-content] button {
  font-family: "Prompt", sans-serif !important;
  font-weight: 500 !important;
  min-height: 44px !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  cursor: pointer !important;
  user-select: none !important;
  -webkit-tap-highlight-color: transparent !important;
}

/* Prevent body scroll when dialog is open */
body[data-dialog-open] {
  overflow: hidden !important;
}

/* Mobile specific dialog adjustments */
@media (max-width: 480px) {
  [data-radix-dialog-content] {
    width: 95% !important;
    margin: 16px !important;
    max-height: calc(100vh - 32px) !important;
  }
}

.figma-style1-content-area {
  align-items: center !important;
  justify-content: center !important;
  text-align: center !important;
}

.figma-style1-title-container {
  margin-left: auto !important;
  margin-right: auto !important;
  text-align: center !important;
  box-sizing: border-box !important;
}

.figma-style1-title {
  text-align: center !important;
  margin-left: auto !important;
  margin-right: auto !important;
}

.figma-style1-button-container {
  margin-left: auto !important;
  margin-right: auto !important;
  text-align: center !important;
  box-sizing: border-box !important;
}

.figma-style1-button {
  margin-left: auto !important;
  margin-right: auto !important;
  text-align: center !important;
}

.figma-style1-button-text {
  text-align: center !important;
}

/* ================================================
   Desktop/Tablet-only background handling for ukpack1
   - Center background images horizontally & vertically
   - Use contain so full portrait is visible
   - Fill side space with matching color variable
   - Keep mobile (default cover) untouched
   ================================================ */
:root {
  --figma-style1-bg-fill: #ffffff;
}

@media (min-width: 768px) {
  .figma-style1-background {
    background-size: contain !important;
    background-position: center center !important;
    background-repeat: no-repeat !important;
    background-color: var(--figma-style1-bg-fill, #04d9f9) !important;
  }

  /* Balance content on larger screens without affecting mobile */
  .figma-style1-main {
    align-items: center !important;
    justify-items: center !important;
  }

  .figma-style1-content-area {
    padding-top: clamp(20px, 6vh, 64px) !important;
    padding-bottom: clamp(20px, 6vh, 64px) !important;
  }

  .figma-style1-button-container {
    padding-bottom: clamp(16px, 4vh, 32px) !important;
  }
}

/* Ask05 desktop/tablet-only adjustments: keep mobile untouched */
@media (min-width: 768px) {
  .ask05-page .ask05-content {
    width: 100%;
    max-width: min(92vw, 900px);
    margin: 0 auto;
    padding: 16px 20px;
  }
  .ask05-page .ask05-textarea-box {
    min-height: clamp(260px, 32vh, 460px);
    padding: clamp(12px, 2.2vw, 20px);
  }
  .ask05-page .ask05-title {
    max-width: min(92vw, 900px);
    margin: 8px auto 12px auto;
  }

  /* Positioning: title top, textarea centered, button bottom */
  .ask05-page .figma-style1-content-area {
    display: flex !important;
    flex-direction: column !important;
    min-height: 100% !important;
  }
  .ask05-page .ask05-content {
    /* center between title and button */
    margin-top: auto !important;
    margin-bottom: auto !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
  }
  .ask05-page .figma-style1-button-container {
    margin-top: auto !important;
  }
}

@media (min-width: 768px) {
  .app-container:has(.figma-style1-container) {
    max-width: none !important;
    width: 100% !important;
  }
}

@media (min-width: 768px) {
  .mn2-summary-page::before,
  .mn3-page-bg::before,
  .mn3-allocation-bg::before {
    background-size: contain !important;
    background-position: center center !important;
    background-repeat: no-repeat !important;
    background-color: var(--figma-style1-bg-fill, #04d9f9) !important;
  }
}

/* MN2 Summary page: remove local overlays and use global background */
.mn2-summary-page {
  background: transparent !important;
  position: fixed !important;
  inset: 0 !important;
  width: 100% !important;
  height: 100% !important;
  overflow-y: auto !important;
  overflow-x: hidden !important;
  -webkit-overflow-scrolling: touch;
  overscroll-behavior: contain;
  padding-bottom: 16px;
  z-index: 100;
}
/* Ensure buttons are on top and clickable */
.mn2-summary-page button {
  pointer-events: auto !important;
  position: relative;
  z-index: 3;
}
.mn2-summary-page::before {
  content: "";
  position: fixed;
  inset: 0;
  z-index: 0;
  background-image: url("https://cdn.builder.io/api/v1/image/assets%2F0eb7afe56fd645b8b4ca090471cef081%2F4fdd077f1518431db26544246a442903?format=webp&width=800");
  background-size: cover;
  background-position: center center;
  background-repeat: no-repeat;
  pointer-events: none;
}
.mn2-summary-page > .absolute.inset-0 {
  /* blue + white curved overlays */
  display: none !important;
  pointer-events: none !important;
}
/* Fallback: disable any absolute overlay inside just in case */
/* Keep critical bottom question section visible */
.mn2-summary-page .text-center.mb-8,
.mn2-summary-page [class*="max-w-[874px]"] {
  position: relative !important;
  z-index: 2 !important;
}
/* Compact spacing so more cards fit */
.mn2-summary-page .space-y-6 {
  display: block !important;
  row-gap: clamp(8px, 2vw, 12px) !important;
  margin-bottom: clamp(10px, 3vw, 16px) !important;
}
/* Tighter card box sizing on small screens */
.mn2-summary-page [class*="max-w-[903px]"] {
  min-height: clamp(130px, 20vw, 240px) !important;
  padding: clamp(10px, 2vw, 16px) !important;
  border-width: 3px !important;
}
/* Force 3-column icon grid to save space */
.mn2-summary-page .grid.justify-items-center.items-center {
  grid-template-columns: repeat(3, minmax(0, 1fr)) !important;
  gap: clamp(6px, 2vw, 12px) !important;
}
@media (max-width: 360px) {
  .mn2-summary-page .grid.justify-items-center.items-center {
    grid-template-columns: repeat(2, minmax(0, 1fr)) !important;
  }
}
/* Make the route wrapper not clip when this page is active */
#main-content > .flow-container:has(.mn2-summary-page) {
  overflow: visible !important;
}
/* Keep the bottom question section above any backgrounds */
.mn2-summary-page .text-center.mb-8 {
  position: relative;
  z-index: 11;
}
/* Slightly smaller icon circles */
.mn2-summary-page svg[viewBox="0 0 133 133"] {
  width: clamp(60px, 9vw, 100px) !important;
  height: clamp(60px, 9vw, 100px) !important;
}
/* Icon image inside circle */
.mn2-summary-page .grid.justify-items-center.items-center img {
  max-width: clamp(28px, 4.5vw, 56px) !important;
  max-height: clamp(24px, 4vw, 50px) !important;
}
/* Beneficiary label text */
.mn2-summary-page .grid.justify-items-center.items-center span {
  font-size: clamp(11px, 1.8vw, 18px) !important;
  line-height: 1.15 !important;
}
/* Title typography and spacing */
.mn2-summary-page h1 {
  margin-bottom: clamp(6px, 2vw, 12px) !important;
  font-size: clamp(18px, 4.2vw, 28px) !important;
}
.mn2-summary-page h2 {
  font-size: clamp(14px, 3vw, 22px) !important;
  margin-bottom: clamp(6px, 2vw, 10px) !important;
}
/* Reduce bottom margins to save vertical space */
.mn2-summary-page .mb-12 {
  margin-bottom: clamp(8px, 2vw, 12px) !important;
}
.mn2-summary-page .mb-8 {
  margin-bottom: clamp(6px, 2vw, 10px) !important;
}
/* Ensure inner content has bottom padding so buttons are reachable */
.mn2-summary-page .z-10 {
  padding-bottom: clamp(16px, 10vh, 140px) !important;
  position: relative;
  z-index: 10;
  pointer-events: auto;
}

/* Mobile: Ask05 positioning (title top, textarea center, button bottom) */
@media (max-width: 767px) {
  .ask05-page .figma-style1-content-area,
  .what-do-you-travel-by-page .figma-style1-content-area {
    display: flex !important;
    flex-direction: column !important;
    min-height: 100% !important;
  }
  .ask05-page .ask05-content,
  .what-do-you-travel-by-page .wdytb-content {
    margin-top: auto !important;
    margin-bottom: auto !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    width: 100% !important;
    padding: 0 16px !important;
  }
  .ask05-page .figma-style1-button-container,
  .what-do-you-travel-by-page .figma-style1-button-container {
    margin-top: auto !important;
    padding-bottom: 16px !important;
  }
}

/* Desktop/Tablet: WhatDoYouTravelBy positioning and sizing */
@media (min-width: 768px) {
  .what-do-you-travel-by-page .wdytb-content {
    width: 100%;
    max-width: min(92vw, 900px);
    margin: auto;
    padding: 16px 20px;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
  }
  .what-do-you-travel-by-page .wdytb-textarea-box {
    min-height: clamp(260px, 32vh, 460px);
    padding: clamp(12px, 2.2vw, 20px);
  }
  .what-do-you-travel-by-page .figma-style1-content-area {
    display: flex !important;
    flex-direction: column !important;
    min-height: 100% !important;
  }
  .what-do-you-travel-by-page .figma-style1-button-container {
    margin-top: auto !important;
  }
}

/* Ensure black title on white background */
.what-do-you-travel-by-page .figma-style1-title {
  color: #000 !important;
  font-weight: 700 !important;
}

/* Ask02_2: title top, textarea center, button bottom (desktop/tablet) */
@media (min-width: 768px) {
  .ask02-2-page .figma-style1-content-area {
    display: flex !important;
    flex-direction: column !important;
    min-height: 100% !important;
  }
  .ask02-2-page .ask02-2-content {
    margin-top: auto !important;
    margin-bottom: auto !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    width: 100% !important;
    padding: 0 16px !important;
  }
  .ask02-2-page .ask02-2-textarea-box {
    min-height: clamp(260px, 32vh, 460px);
    padding: clamp(12px, 2.2vw, 20px);
  }
  /* Slightly lower the title on desktop/tablet */
  .ask02-2-page .figma-style1-title-container {
    margin-top: clamp(12px, 4vh, 40px) !important;
  }
  .ask02-2-page .figma-style1-button-container { margin-top: auto !important; }
}

/* Ask02_2: same positioning for mobile */
@media (max-width: 767px) {
  .ask02-2-page .figma-style1-content-area {
    display: flex !important;
    flex-direction: column !important;
    min-height: 100% !important;
  }
  .ask02-2-page .ask02-2-content {
    margin-top: auto !important;
    margin-bottom: auto !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    width: 100% !important;
    padding: 0 16px !important;
  }
  /* Slightly lower the title on mobile */
  .ask02-2-page .figma-style1-title-container {
    margin-top: clamp(10px, 3.5vh, 28px) !important;
  }
  .ask02-2-page .figma-style1-button-container {
    margin-top: auto !important;
    padding-bottom: 16px !important;
  }
}

/* Source selection: tighter spacing between buttons */
.source-selection-root .figma-style1-button-container {
  gap: clamp(8px, 1.8vh, 14px) !important;
}
.source-selection-root .figma-style1-button-container > * + * {
  margin-top: 0 !important;
  margin-bottom: 0 !important;
}

/* ===================================================================
   Standardized reset & layout for fake-news page
   - Remove custom background/overlay
   - Use clean centered layout with content pinned to bottom
   - Keep buttons centered and constrained for accessibility
   =================================================================== */
.figma-style1-container.fake-news-page {
  background: #04D9F9 !important; /* full screen blue fill */
  min-height: 100vh !important;
  width: 100% !important;
}

/* hide any decorative background layers for this page */
.figma-style1-container.fake-news-page .figma-style1-background,
.figma-style1-container.fake-news-page .figma-style1-background-image,
.figma-style1-container.fake-news-page .figma-style1-background-overlay,
.figma-style1-container.fake-news-page .figma-style1-wave-overlay {
  display: none !important;
  visibility: hidden !important;
  pointer-events: none !important;
}

/* Center content vertically and horizontally */
.figma-style1-container.fake-news-page .figma-style1-main {
  align-items: center !important; /* vertical centering */
  justify-items: center !important;
  height: 100vh !important;
  padding-bottom: env(safe-area-inset-bottom, 20px) !important;
}

.figma-style1-container.fake-news-page .figma-style1-content-area {
  width: 100% !important;
  max-width: 100% !important;
  padding: 20px 16px !important;
  box-sizing: border-box !important;
  display: flex !important;
  flex-direction: column !important;
  justify-content: center !important; /* center vertically */
  align-items: center !important; /* center horizontally */
  gap: 16px !important;
}

.figma-style1-container.fake-news-page .figma-style1-title-container {
  width: 100% !important;
  max-width: 720px !important;
  margin: 0 auto !important;
  padding: 0 12px !important;
}

.figma-style1-container.fake-news-page .figma-style1-title {
  color: #000 !important;
  font-size: clamp(18px, 4.5vw, 22px) !important;
  line-height: 1.3 !important;
  text-align: center !important;
  margin: 0 !important;
  text-shadow: none !important;
}

/* Buttons centered and constrained */
.figma-style1-container.fake-news-page .figma-style1-button-container {
  width: 100% !important;
  max-width: 360px !important;
  margin: 0 auto !important;
  padding: 8px 0 20px 0 !important;
  display: flex !important;
  flex-direction: column !important;
  gap: 12px !important;
  align-items: center !important;
}

.figma-style1-container.fake-news-page .figma-style1-button {
  width: 100% !important;
  max-width: 100% !important;
  border-radius: 28px !important;
  height: 52px !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
}

.figma-style1-container.fake-news-page .figma-style1-button-text {
  color: #000 !important;
  text-align: center !important;
}

/* Ensure route wrapper won't clip content */
#main-content > .flow-container:has(.figma-style1-container.fake-news-page) {
  overflow: visible !important;
}

/* Remove global/app padding when showing fake-news so content is truly centered */
.app-container:has(.figma-style1-container.fake-news-page) {
  padding-left: 0 !important;
  padding-right: 0 !important;
  margin-left: 0 !important;
  margin-right: 0 !important;
  width: 100vw !important;
  max-width: 100vw !important;
}

/* Ensure main content wrapper has no extra offsets */
#main-content {
  padding-left: 0 !important;
  padding-right: 0 !important;
}

.figma-style1-container.fake-news-page .figma-style1-content {
  width: 100% !important;
  max-width: 100% !important;
  padding-left: 0 !important;
  padding-right: 0 !important;
  margin-left: 0 !important;
  margin-right: 0 !important;
}
