/**
 * Figma Style 1 - Design System
 * 
 * A complete vertical layout design system with:
 * - Mobile-first responsive design
 * - Full-screen background with gradient overlay
 * - Bottom-positioned content
 * - Consistent button interactions
 * - Enhanced replay button
 */

/* Main Layout Container */
.figma-style1-container {
  @apply min-h-screen bg-white flex justify-center;
  width: 100%;
  margin: 0;
  padding: 0;
}

/* Ensure figma-style1 inside the global app-container becomes full-bleed */
.app-container .figma-style1-container {
  padding: 0 !important;
  margin: 0 !important;
  width: 100% !important;
}

.figma-style1-content {
  /* Single screen container aligned within app-container */
  width: 100%;
  height: 100%;
  max-width: 100%;
  max-height: 100%;
  overflow: hidden;
  position: relative;
  background: transparent;
  margin: 0 auto;
  padding: 0;
}

/* Small phones (320px - 375px) */
@media (max-width: 375px) {
  .figma-style1-content {
    max-width: 100vw;
  }
}

/* Large phones (376px - 430px) - iPhone 14 Plus, etc */
@media (min-width: 376px) and (max-width: 430px) {
  .figma-style1-content {
    max-width: min(100%, 400px);
  }
}

/* Extra large phones & small tablets (431px - 600px) */
@media (min-width: 431px) and (max-width: 600px) {
  .figma-style1-content {
    max-width: min(100%, 420px);
  }
}

/* Medium tablets (601px - 768px) */
@media (min-width: 601px) and (max-width: 768px) {
  .figma-style1-content {
    max-width: min(100%, 450px);
  }
}

/* Large tablets (769px - 1024px) */
@media (min-width: 769px) and (max-width: 1024px) {
  .figma-style1-content {
    max-width: min(100%, 480px);
  }
}

/* Extra large tablets (1025px - 1279px) */
@media (min-width: 1025px) and (max-width: 1279px) {
  .figma-style1-content {
    max-width: min(100%, 520px);
  }
}

/* Desktop and larger - maintain original design */
@media (min-width: 1280px) {
  .figma-style1-content {
    max-width: 390px;
  }
}

/* Background System */
.figma-style1-background {
  /* Background fills the viewport; image will be allowed to crop (cover) */
  position: fixed;
  inset: 0;
  z-index: 0;
  background-color: #00d5f9;
  background-image: url("https://api.builder.io/api/v1/image/assets/TEMP/1ca30c44dc55682aa7c0c1273799b2f3f61b5c99?width=2160");
  background-size: cover;
  background-position: center center;
  background-repeat: no-repeat;
  display: flex;
  align-items: center;
  justify-content: center;
}

.figma-style1-background-image {
  /* Use CSS background instead globally */
  display: none !important;
}


/* Ensure full coverage on all devices */
@media (orientation: landscape) and (max-height: 500px) {
  .figma-style1-background-image {
    object-fit: cover;
    height: 100vh !important;
  }
}

.figma-style1-background-overlay {
  display: none !important;
}

/* Blue overlay for source selection page - lower curve (convex bottom edge) */
.figma-style1-background-overlay--blue {
  background: var(--figma-style1-blue-overlay, #04D9F9) !important;
  /* fallback if needed */
  z-index: 2;
  pointer-events: none;
}

/* S-shaped wave overlay SVG */
.figma-style1-wave-overlay {
  display: none !important;
}

.figma-style1-wave-overlay path {
  /* Ensure sharp edges and crisp rendering */
  shape-rendering: geometricPrecision;
}

/* Slight adjustments for very small and very large screens */
@media (max-width: 375px) {
  .figma-style1-wave-overlay {
    height: 60%;
  }
}

@media (min-width: 768px) {
  .figma-style1-wave-overlay {
    height: 58%;
  }
}

/* Main Content Layout */
.figma-style1-main {
  /* Main content layer - back to grid layout but with better centering */
  position: relative;
  z-index: 10;
  display: grid;
  grid-template-rows: 1fr auto;
  height: 100%;
  overflow: hidden;
  align-items: end;
  justify-items: center;
}

.figma-style1-header {
  @apply flex justify-start;
  /* Fluid header padding */
  padding: min(6vw, 40px);
}

.figma-style1-content-area {
  /* Content takes available space above buttons - working layout */
  grid-row: 1;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  text-align: center;
  /* Put padding back for visibility */
  padding: env(safe-area-inset-top, 20px) 20px 20px 20px;
  min-height: 0;
  overflow: hidden;
}

/* Typography System - Fluid responsive */
.figma-style1-title {
  @apply text-white text-center font-prompt font-bold;
  /* Responsive font sizing that works on all devices */
  font-size: clamp(16px, 4.5vw, 28px);
  line-height: clamp(1.1, 1.3, 1.4);
  letter-spacing: 0.3px;
  text-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
  margin: 0;
  padding: 0;
  word-wrap: break-word;
  hyphens: auto;
}

/* Black text variant for source selection */
.figma-style1-title--black {
  @apply text-black;
  font-weight: 600;
}

/* Ensure specific pages (like fake-news) use black title to match Figma */
.figma-style1-container.fake-news-page .figma-style1-title,
  .figma-style1-container .fake-news-page .figma-style1-title,
  .fake-news-page .figma-style1-title {
  color: var(--figma-style1-text-dark) !important;
  font-weight: 700 !important;
}

/* Make Ask04 and Ask04Budget titles black to improve readability on their backgrounds */
.ask04-page .figma-style1-title,
.ask04-budget-page .figma-style1-title {
  color: #000 !important;
  font-weight: 700 !important;
}

/* End-sequence page: increase spacing between title and action buttons, and allow title to use wider container */
.end-sequence-page .figma-style1-title-container {
  max-width: 980px !important;
  padding-left: 20px !important;
  padding-right: 20px !important;
}
.end-sequence-page .figma-style1-title {
  width: 100% !important;
  max-width: 980px !important;
  margin-bottom: 20px !important; /* base spacing from title to following content */
  text-align: center !important;
}
/* Target the specific button group spacing on the end-sequence form (uses mt-8 utility) */
.end-sequence-page .mt-8 {
  margin-top: clamp(48px, 8vw, 96px) !important;
}

/* Ensure headings remain readable on all viewports */
.end-sequence-page .figma-style1-title,
.end-sequence-page h1,
.end-sequence-page h2 {
  color: #000 !important;
  letter-spacing: 0.2px !important;
}

/* Ensure button container text remains black on fake-news */
.fake-news-page .figma-style1-button-text {
  color: var(--figma-style1-text-dark) !important;
}

/* On fake-news page, when buttons are hovered (background becomes black), make text white for contrast */
.fake-news-page .figma-style1-button:hover .figma-style1-button-text,
.fake-news-page .figma-style1-button:active .figma-style1-button-text {
  color: #ffffff !important;
}

.figma-style1-subtitle {
  @apply text-white text-center font-prompt font-normal leading-normal;
  font-size: clamp(18px, 5vw, 28px);
  line-height: 1.3;
}

.figma-style1-title-container {
  /* Simple centering layout */
  width: 100%;
  max-width: 380px;
  margin: 0 auto;
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  padding: 0 20px;
  box-sizing: border-box;
}

/* Simplified responsive rules work better with the new grid system */

/* Button System - Fluid responsive */
.figma-style1-button-container {
  /* Working grid layout with proper padding */
  grid-row: 2;
  width: 100%;
  max-width: 380px;
  margin: 0 auto;
  /* Put padding back for visibility */
  padding: 20px 20px env(safe-area-inset-bottom, 20px) 20px;
  display: flex;
  flex-direction: column;
  gap: clamp(12px, 3vh, 20px);
  flex-shrink: 0;
  z-index: 20;
}

.figma-style1-button {
  @apply w-full rounded-[40px] border-[1.5px] border-black flex items-center justify-center transition-all duration-200 hover:scale-105 hover:shadow-lg hover:bg-black active:bg-black;
  /* Responsive height that ensures tappability */
  height: clamp(44px, 10vh, 60px);
  min-height: 44px;
  max-height: 60px;
  background-color: #FFE000;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

.figma-style1-button-text {
  @apply text-black text-center font-prompt font-medium;
  /* Responsive text size that's readable on all devices */
  font-size: clamp(14px, 3.5vw, 18px);
  line-height: 1.3;
  letter-spacing: 0.2px;
  word-wrap: break-word;
}

/* Large phones optimization (iPhone 14 Plus, etc.) */
@media (min-width: 376px) and (max-width: 430px) {
  .figma-style1-button-container {
    max-width: min(85vw, 350px);
  }
}

/* Small to medium tablets */
@media (min-width: 431px) and (max-width: 768px) {
  .figma-style1-button-container {
    max-width: min(80vw, 380px);
    @apply space-y-5;
  }
}

/* Large tablets */
@media (min-width: 769px) and (max-width: 1279px) {
  .figma-style1-button-container {
    max-width: min(75vw, 400px);
    @apply space-y-5;
  }

  .figma-style1-button {
    @apply h-[58px];
  }

  .figma-style1-button-text {
    @apply text-xl;
  }
}

/* Desktop - maintain original */
@media (min-width: 1280px) {
  .figma-style1-button-container {
    @apply max-w-[325px] space-y-4;
    padding: 0;
  }

  .figma-style1-button {
    @apply h-[53px];
  }

  .figma-style1-button-text {
    @apply text-lg;
  }
}

/* Removed duplicate - using responsive definition above */

/* Secondary (yellow) variant for figma-style1 buttons */
.figma-style1-button--secondary {
  @apply w-full h-[53px] rounded-[40px] border-[1.5px] border-black flex items-center justify-center transition-all duration-200 hover:scale-105 hover:shadow-lg hover:bg-black;
  background-color: #FFE000;
}
/* Compress MN2 summary action buttons */
.mn2-summary-page [class*="rounded-[50px]"] {
  height: clamp(44px, 6.5vw, 72px) !important;
  width: min(820px, 82vw) !important;
}
.mn2-summary-page button[onClick] span,
.mn2-summary-page button span {
  font-size: clamp(12px, 3vw, 18px) !important;
}

.figma-style1-button--secondary .figma-style1-button-text {
  @apply text-black;
}

.figma-style1-button--secondary:hover .figma-style1-button-text,
.figma-style1-button--secondary:active .figma-style1-button-text {
  color: #FFE000;
}

/* Removed duplicate - using responsive definition above */

.figma-style1-button:hover .figma-style1-button-text,
.figma-style1-button:active .figma-style1-button-text {
  color: #FFE000;
}

/* Dark variant for figma-style1 buttons */
.figma-style1-button--dark {
  @apply w-full h-[53px] rounded-[40px] bg-black border-[1.5px] border-black flex items-center justify-center transition-all duration-200 hover:scale-105 hover:shadow-lg;
  background-color: black;
}

.figma-style1-button--dark:hover {
  background-color: #FFE000;
}

.figma-style1-button-text--dark {
  @apply text-center font-prompt text-lg font-medium leading-7 tracking-[0.4px];
  color: #FFE000;
}

.figma-style1-button--dark:hover .figma-style1-button-text--dark,
.figma-style1-button--dark:active .figma-style1-button-text--dark {
  color: #000000;
}

/* Replay Button System */
.figma-style1-replay-button {
  @apply transition-all duration-200 hover:scale-105;
}

.figma-style1-replay-svg {
  @apply w-[68px] h-[84px] md:w-[76px] md:h-[95px];
}

/* Accessibility */
.figma-style1-sr-only {
  @apply sr-only;
}

/* Color Palette Variables for figma-style1 */
:root {
  --figma-style1-primary: #FFE000;
  --figma-style1-text-dark: #000000;
  --figma-style1-text-light: #ffffff;
  --figma-style1-overlay-start: rgba(0, 0, 0, 0);
  --figma-style1-overlay-end: rgba(0, 0, 0, 0.9);
  --figma-style1-blue-overlay: #04D9F9;
}

/* Fine-tune for very small screens only */
@media (max-width: 320px) {
  .figma-style1-title {
    font-size: 15px !important;
    line-height: 1.2 !important;
  }

  .figma-style1-button {
    height: 44px !important;
  }

  .figma-style1-button-text {
    font-size: 13px !important;
  }
}

/* Simplified full-bleed for single-screen responsive layout */
.figma-style1-container {
  width: 100% !important;
  height: 100% !important;
  max-width: 100% !important;
  max-height: 100% !important;
  margin: 0 !important;
  padding: 0 !important;
  overflow: hidden !important;
  position: relative !important;
  display: block !important; /* Override app-container flex */
}

/* Override global.css app-container conflicts for figma-style1 */
.app-container .figma-style1-container {
  height: 100vh !important;
  min-height: 100vh !important;
  flex: none !important;
}

.app-container .figma-style1-content {
  height: 100vh !important;
  min-height: 100vh !important;
  overflow: hidden !important;
}

/* Ensure figma-style1 works on desktop frame too */
@media (min-width: 1081px) {
  .app-container .figma-style1-container {
    width: 100% !important;
    height: 100% !important;
    margin: 0 !important;
    border-radius: 0 !important;
    box-shadow: none !important;
  }
}

/* Also remove any horizontal padding from app-container when rendering figma-style1 */
.app-container > .figma-style1-container {
  padding-left: 0 !important;
  padding-right: 0 !important;
  margin-left: 0 !important;
  margin-right: 0 !important;
  max-width: none !important;
  width: 100vw !important;
}

/* Simplified desktop handling - let the responsive grid system work */

/* Removed global app-container overrides - let global.css handle them normally */

/* Cleaned up device-specific rules - using simplified responsive system above */

/* Final compatibility rules: ensure figma-style1 works within app-container */

/* ===================================================================
   UKPACK1 - Unified button appearance
   Make all primary and secondary buttons across the ukpack1 pages share
   the same visual style as the "ไปต่อ" button in minigame-mn1.
   Only visual appearance is changed (background / text / hover / border)
   max-width, layout and per-page sizing rules are preserved.
   =================================================================== */

/* Target common button classes used across ukpack1 pages */
.app-container .figma-style1-button,
.app-container .btn-large,
.app-container .btn-primary,
.app-container .mn3-policy-button,
.app-container .mn3-continue-button,
.app-container .figma-style1-button--secondary,
.app-container .figma-style1-button--dark {
  /* Visual base to match mn3 continue button */
  background-color: #FFE000 !important; /* yellow base */
  color: #000 !important; /* black text by default */
  border: none !important; /* remove visible border */
  box-shadow: none !important; /* no extra shadow by default */
  border-radius: 40px !important; /* consistent rounded corners */
  font-weight: 500 !important;
  transition: all 0.18s ease !important;
}

/* Hover / active states: become black with white text, no border */
.app-container .figma-style1-button:hover,
.app-container .btn-large:hover,
.app-container .btn-primary:hover,
.app-container .mn3-policy-button:hover,
.app-container .mn3-continue-button:hover,
.app-container .figma-style1-button--secondary:hover,
.app-container .figma-style1-button--dark:hover {
  background-color: #000 !important;
  color: #fff !important;
  transform: scale(1.03) !important;
}

.app-container .figma-style1-button:active,
.app-container .btn-large:active,
.app-container .btn-primary:active,
.app-container .mn3-policy-button:active,
.app-container .mn3-continue-button:active,
.app-container .figma-style1-button--secondary:active,
.app-container .figma-style1-button--dark:active {
  transform: scale(0.98) !important;
}

/* Disabled state should simply reduce opacity */
.app-container .figma-style1-button:disabled,
.app-container .btn-large:disabled,
.app-container .btn-primary:disabled,
.app-container .mn3-policy-button:disabled,
.app-container .mn3-continue-button:disabled,
.app-container .figma-style1-button--secondary:disabled,
.app-container .figma-style1-button--dark:disabled {
  opacity: 0.5 !important;
  cursor: not-allowed !important;
  transform: none !important;
}

/* Ensure text contrast and prevent border bleed for small variations */
.app-container .figma-style1-button .figma-style1-button-text,
.app-container .btn-large span,
.app-container .mn3-policy-button .mn3-button-text {
  color: inherit !important;
}

/* Keep per-page max-width and sizing intact (these rules only change visuals) */
/* End unified button appearance */

/* Final compatibility rules: ensure figma-style1 works within app-container */
.app-container .figma-style1-container {
  flex: none !important; /* Don't let app-container flex affect us */
  min-height: 100vh !important; /* Ensure full viewport height */
}

/* Override any global.css interference without targeting Tailwind classes directly */
.figma-style1-container,
.figma-style1-content,
.figma-style1-main {
  min-height: 100% !important;
  height: 100% !important;
  overflow: hidden !important;
}

/* Comprehensive centering rules to fix right drift */
.figma-style1-container {
  text-align: center !important;
}

/* Dialog specific styling to ensure proper display */
[data-radix-dialog-overlay] {
  position: fixed !important;
  inset: 0 !important;
  z-index: 100 !important;
  background-color: rgba(0, 0, 0, 0.8) !important;
}

[data-radix-dialog-content] {
  position: fixed !important;
  left: 50% !important;
  top: 50% !important;
  z-index: 101 !important;
  transform: translate(-50%, -50%) !important;
  width: 90% !important;
  max-width: 420px !important;
  max-height: 80vh !important;
  overflow-y: auto !important;
  background: white !important;
  border-radius: 12px !important;
  box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04) !important;
}

/* Ensure dialog buttons are properly styled and clickable */
[data-radix-dialog-content] button {
  font-family: 'Prompt', sans-serif !important;
  font-weight: 500 !important;
  min-height: 44px !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  cursor: pointer !important;
  user-select: none !important;
  -webkit-tap-highlight-color: transparent !important;
}

/* Prevent body scroll when dialog is open */
body[data-dialog-open] {
  overflow: hidden !important;
}

/* Mobile specific dialog adjustments */
@media (max-width: 480px) {
  [data-radix-dialog-content] {
    width: 95% !important;
    margin: 16px !important;
    max-height: calc(100vh - 32px) !important;
  }
}

.figma-style1-content-area {
  align-items: center !important;
  justify-content: center !important;
  text-align: center !important;
}

.figma-style1-title-container {
  margin-left: auto !important;
  margin-right: auto !important;
  text-align: center !important;
  box-sizing: border-box !important;
}

.figma-style1-title {
  text-align: center !important;
  margin-left: auto !important;
  margin-right: auto !important;
}

.figma-style1-button-container {
  margin-left: auto !important;
  margin-right: auto !important;
  text-align: center !important;
  box-sizing: border-box !important;
}

.figma-style1-button {
  margin-left: auto !important;
  margin-right: auto !important;
  text-align: center !important;
}

.figma-style1-button-text {
  text-align: center !important;
}

/* MN2 Summary page: remove local overlays and use global background */
.mn2-summary-page {
  background: transparent !important;
  position: fixed !important;
  inset: 0 !important;
  width: 100% !important;
  height: 100% !important;
  overflow-y: auto !important;
  overflow-x: hidden !important;
  -webkit-overflow-scrolling: touch;
  overscroll-behavior: contain;
  padding-bottom: env(safe-area-inset-bottom, 16px);
  z-index: 100;
}
/* Ensure buttons are on top and clickable */
.mn2-summary-page button { pointer-events: auto !important; position: relative; z-index: 3; }
.mn2-summary-page::before {
  content: "";
  position: fixed;
  inset: 0;
  z-index: 0;
  background-image: url("https://cdn.builder.io/api/v1/image/assets%2F0eb7afe56fd645b8b4ca090471cef081%2F4fdd077f1518431db26544246a442903?format=webp&width=800");
  background-size: cover;
  background-position: center center;
  background-repeat: no-repeat;
  pointer-events: none;
}
.mn2-summary-page > .absolute.inset-0 { /* blue + white curved overlays */
  display: none !important;
  pointer-events: none !important;
}
/* Fallback: disable any absolute overlay inside just in case */
/* Keep critical bottom question section visible */
.mn2-summary-page .text-center.mb-8,
.mn2-summary-page [class*="max-w-[874px]"] {
  position: relative !important;
  z-index: 2 !important;
}
/* Compact spacing so more cards fit */
.mn2-summary-page .space-y-6 {
  display: block !important;
  row-gap: clamp(8px, 2vw, 12px) !important;
  margin-bottom: clamp(10px, 3vw, 16px) !important;
}
/* Tighter card box sizing on small screens */
.mn2-summary-page [class*="max-w-[903px]"] {
  min-height: clamp(130px, 20vw, 240px) !important;
  padding: clamp(10px, 2vw, 16px) !important;
  border-width: 3px !important;
}
/* Force 3-column icon grid to save space */
.mn2-summary-page .grid.justify-items-center.items-center {
  grid-template-columns: repeat(3, minmax(0, 1fr)) !important;
  gap: clamp(6px, 2vw, 12px) !important;
}
@media (max-width: 360px) {
  .mn2-summary-page .grid.justify-items-center.items-center {
    grid-template-columns: repeat(2, minmax(0, 1fr)) !important;
  }
}
/* Make the route wrapper not clip when this page is active */
#main-content > .flow-container:has(.mn2-summary-page) {
  overflow: visible !important;
}
/* Keep the bottom question section above any backgrounds */
.mn2-summary-page .text-center.mb-8 {
  position: relative;
  z-index: 11;
}
/* Slightly smaller icon circles */
.mn2-summary-page svg[viewBox="0 0 133 133"] {
  width: clamp(60px, 9vw, 100px) !important;
  height: clamp(60px, 9vw, 100px) !important;
}
/* Icon image inside circle */
.mn2-summary-page .grid.justify-items-center.items-center img {
  max-width: clamp(28px, 4.5vw, 56px) !important;
  max-height: clamp(24px, 4vw, 50px) !important;
}
/* Beneficiary label text */
.mn2-summary-page .grid.justify-items-center.items-center span {
  font-size: clamp(11px, 1.8vw, 18px) !important;
  line-height: 1.15 !important;
}
/* Title typography and spacing */
.mn2-summary-page h1 {
  margin-bottom: clamp(6px, 2vw, 12px) !important;
  font-size: clamp(18px, 4.2vw, 28px) !important;
}
.mn2-summary-page h2 {
  font-size: clamp(14px, 3vw, 22px) !important;
  margin-bottom: clamp(6px, 2vw, 10px) !important;
}
/* Reduce bottom margins to save vertical space */
.mn2-summary-page .mb-12 { margin-bottom: clamp(8px, 2vw, 12px) !important; }
.mn2-summary-page .mb-8 { margin-bottom: clamp(6px, 2vw, 10px) !important; }
/* Ensure inner content has bottom padding so buttons are reachable */
.mn2-summary-page .z-10 { padding-bottom: clamp(16px, 10vh, 140px) !important; position: relative; z-index: 10; pointer-events: auto; }
