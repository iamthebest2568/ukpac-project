/**
 * Figma Style 1 - Design System
 * 
 * A complete vertical layout design system with:
 * - Mobile-first responsive design
 * - Full-screen background with gradient overlay
 * - Bottom-positioned content
 * - Consistent button interactions
 * - Enhanced replay button
 */

/* Main Layout Container */
.figma-style1-container {
  @apply min-h-screen bg-white flex justify-center;
  width: 100%;
  margin: 0;
  padding: 0;
}

/* Ensure figma-style1 inside the global app-container becomes full-bleed */
.app-container .figma-style1-container {
  padding: 0 !important;
  margin: 0 !important;
  width: 100% !important;
  /* Offset the app-container horizontal padding so content becomes full-bleed */
  margin-left: calc(-1 * var(--space-sm));
  margin-right: calc(-1 * var(--space-sm));
}

.figma-style1-content {
  /* Single screen container - exactly one viewport */
  width: 100vw;
  height: 100vh;
  max-width: 100vw;
  max-height: 100vh;
  overflow: hidden;
  position: relative;
  background: transparent;
  margin: 0;
  padding: 0;
}

/* Small phones (320px - 375px) */
@media (max-width: 375px) {
  .figma-style1-content {
    max-width: 100vw;
  }
}

/* Large phones (376px - 430px) - iPhone 14 Plus, etc */
@media (min-width: 376px) and (max-width: 430px) {
  .figma-style1-content {
    max-width: min(100vw, 400px);
  }
}

/* Extra large phones & small tablets (431px - 600px) */
@media (min-width: 431px) and (max-width: 600px) {
  .figma-style1-content {
    max-width: min(100vw, 420px);
  }
}

/* Medium tablets (601px - 768px) */
@media (min-width: 601px) and (max-width: 768px) {
  .figma-style1-content {
    max-width: min(100vw, 450px);
  }
}

/* Large tablets (769px - 1024px) */
@media (min-width: 769px) and (max-width: 1024px) {
  .figma-style1-content {
    max-width: min(100vw, 480px);
  }
}

/* Extra large tablets (1025px - 1279px) */
@media (min-width: 1025px) and (max-width: 1279px) {
  .figma-style1-content {
    max-width: min(100vw, 520px);
  }
}

/* Desktop and larger - maintain original design */
@media (min-width: 1280px) {
  .figma-style1-content {
    max-width: 390px;
  }
}

/* Background System */
.figma-style1-background {
  /* Background fills the viewport; image will be allowed to crop (cover) */
  position: fixed;
  inset: 0;
  z-index: 0;
  background-color: #00d5f9;
  display: flex;
  align-items: center;
  justify-content: center;
}

.figma-style1-background-image {
  /* Fill the viewport and allow cropping to keep visual impact */
  width: 100%;
  height: 100%;
  object-fit: cover; /* allow cropping */
  object-position: center center; /* center focal point */
  display: block;
}


/* Ensure full coverage on all devices */
@media (orientation: landscape) and (max-height: 500px) {
  .figma-style1-background-image {
    object-fit: cover;
    height: 100vh !important;
  }
}

.figma-style1-background-overlay {
  @apply absolute inset-0;
  background: linear-gradient(
    180deg,
    rgba(0, 0, 0, 0) 0%,
    rgba(0, 0, 0, 0.9) 44.17%
  );
}

/* Blue overlay for source selection page - lower curve (convex bottom edge) */
.figma-style1-background-overlay--blue {
  background: var(--figma-style1-blue-overlay, #04D9F9) !important;
  /* fallback if needed */
  z-index: 2;
  pointer-events: none;
}

/* S-shaped wave overlay SVG */
.figma-style1-wave-overlay {
  position: absolute;
  left: 0;
  right: 0;
  bottom: 0;
  width: 100%;
  height: 62%;
  z-index: 5; /* below content (content z-10) */
  pointer-events: none;
  display: block;
}

.figma-style1-wave-overlay path {
  /* Ensure sharp edges and crisp rendering */
  shape-rendering: geometricPrecision;
}

/* Slight adjustments for very small and very large screens */
@media (max-width: 375px) {
  .figma-style1-wave-overlay {
    height: 60%;
  }
}

@media (min-width: 768px) {
  .figma-style1-wave-overlay {
    height: 58%;
  }
}

/* Main Content Layout */
.figma-style1-main {
  /* Main content layer - full viewport with proper responsive layout */
  position: relative;
  z-index: 10;
  display: grid;
  grid-template-rows: 1fr auto;
  height: 100vh;
  overflow: hidden;
  align-items: end;
}

.figma-style1-header {
  @apply flex justify-start;
  /* Fluid header padding */
  padding: min(6vw, 40px);
}

.figma-style1-content-area {
  /* Content takes available space above buttons with perfect centering */
  grid-row: 1;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  text-align: center;
  /* Symmetric padding for perfect centering */
  padding: env(safe-area-inset-top, 20px) 5vw 20px 5vw;
  min-height: 0;
  overflow: hidden;
}

/* Typography System - Fluid responsive */
.figma-style1-title {
  @apply text-white text-center font-prompt font-bold;
  /* Responsive font sizing that works on all devices */
  font-size: clamp(16px, 4.5vw, 28px);
  line-height: clamp(1.1, 1.3, 1.4);
  letter-spacing: 0.3px;
  text-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
  margin: 0;
  padding: 0;
  word-wrap: break-word;
  hyphens: auto;
}

/* Black text variant for source selection */
.figma-style1-title--black {
  @apply text-black;
  font-weight: 600;
}

/* Ensure specific pages (like fake-news) use black title to match Figma */
.figma-style1-container.fake-news-page .figma-style1-title,
.figma-style1-container .fake-news-page .figma-style1-title,
.fake-news-page .figma-style1-title {
  color: var(--figma-style1-text-dark) !important;
  font-weight: 700 !important;
}

/* Ensure button container text remains black on fake-news */
.fake-news-page .figma-style1-button-text {
  color: var(--figma-style1-text-dark) !important;
}

/* On fake-news page, when buttons are hovered (background becomes black), make text white for contrast */
.fake-news-page .figma-style1-button:hover .figma-style1-button-text,
.fake-news-page .figma-style1-button:active .figma-style1-button-text {
  color: #ffffff !important;
}

.figma-style1-subtitle {
  @apply text-white text-center font-prompt font-normal leading-normal;
  font-size: clamp(18px, 5vw, 28px);
  line-height: 1.3;
}

.figma-style1-title-container {
  /* Responsive title container with consistent max-width */
  width: 100%;
  max-width: min(90vw, 380px);
  margin: 0 auto;
  flex-shrink: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: 0;
  /* Ensure perfect centering */
  padding: 0;
}

/* Simplified responsive rules work better with the new grid system */

/* Button System - Fluid responsive */
.figma-style1-button-container {
  /* Buttons in grid row 2 - always visible at bottom */
  grid-row: 2;
  width: 100%;
  max-width: min(90vw, 360px);
  margin: 0 auto;
  padding: 20px min(5vw, 20px) env(safe-area-inset-bottom, 20px);
  display: flex;
  flex-direction: column;
  gap: clamp(12px, 3vh, 20px);
  flex-shrink: 0;
  z-index: 20;
}

.figma-style1-button {
  @apply w-full rounded-[40px] border-[1.5px] border-black flex items-center justify-center transition-all duration-200 hover:scale-105 hover:shadow-lg hover:bg-black active:bg-black;
  /* Responsive height that ensures tappability */
  height: clamp(44px, 10vh, 60px);
  min-height: 44px;
  max-height: 60px;
  background-color: #FFE000;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

.figma-style1-button-text {
  @apply text-black text-center font-prompt font-medium;
  /* Responsive text size that's readable on all devices */
  font-size: clamp(14px, 3.5vw, 18px);
  line-height: 1.3;
  letter-spacing: 0.2px;
  word-wrap: break-word;
}

/* Large phones optimization (iPhone 14 Plus, etc.) */
@media (min-width: 376px) and (max-width: 430px) {
  .figma-style1-button-container {
    max-width: min(85vw, 350px);
  }
}

/* Small to medium tablets */
@media (min-width: 431px) and (max-width: 768px) {
  .figma-style1-button-container {
    max-width: min(80vw, 380px);
    @apply space-y-5;
  }
}

/* Large tablets */
@media (min-width: 769px) and (max-width: 1279px) {
  .figma-style1-button-container {
    max-width: min(75vw, 400px);
    @apply space-y-5;
  }

  .figma-style1-button {
    @apply h-[58px];
  }

  .figma-style1-button-text {
    @apply text-xl;
  }
}

/* Desktop - maintain original */
@media (min-width: 1280px) {
  .figma-style1-button-container {
    @apply max-w-[325px] space-y-4;
    padding: 0;
  }

  .figma-style1-button {
    @apply h-[53px];
  }

  .figma-style1-button-text {
    @apply text-lg;
  }
}

/* Removed duplicate - using responsive definition above */

/* Secondary (yellow) variant for figma-style1 buttons */
.figma-style1-button--secondary {
  @apply w-full h-[53px] rounded-[40px] border-[1.5px] border-black flex items-center justify-center transition-all duration-200 hover:scale-105 hover:shadow-lg hover:bg-black;
  background-color: #FFE000;
}

.figma-style1-button--secondary .figma-style1-button-text {
  @apply text-black;
}

.figma-style1-button--secondary:hover .figma-style1-button-text,
.figma-style1-button--secondary:active .figma-style1-button-text {
  color: #FFE000;
}

/* Removed duplicate - using responsive definition above */

.figma-style1-button:hover .figma-style1-button-text,
.figma-style1-button:active .figma-style1-button-text {
  color: #FFE000;
}

/* Dark variant for figma-style1 buttons */
.figma-style1-button--dark {
  @apply w-full h-[53px] rounded-[40px] bg-black border-[1.5px] border-black flex items-center justify-center transition-all duration-200 hover:scale-105 hover:shadow-lg;
  background-color: black;
}

.figma-style1-button--dark:hover {
  background-color: #FFE000;
}

.figma-style1-button-text--dark {
  @apply text-center font-prompt text-lg font-medium leading-7 tracking-[0.4px];
  color: #FFE000;
}

.figma-style1-button--dark:hover .figma-style1-button-text--dark,
.figma-style1-button--dark:active .figma-style1-button-text--dark {
  color: #000000;
}

/* Replay Button System */
.figma-style1-replay-button {
  @apply transition-all duration-200 hover:scale-105;
}

.figma-style1-replay-svg {
  @apply w-[68px] h-[84px] md:w-[76px] md:h-[95px];
}

/* Accessibility */
.figma-style1-sr-only {
  @apply sr-only;
}

/* Color Palette Variables for figma-style1 */
:root {
  --figma-style1-primary: #FFE000;
  --figma-style1-text-dark: #000000;
  --figma-style1-text-light: #ffffff;
  --figma-style1-overlay-start: rgba(0, 0, 0, 0);
  --figma-style1-overlay-end: rgba(0, 0, 0, 0.9);
  --figma-style1-blue-overlay: #04D9F9;
}

/* Fine-tune for very small screens only */
@media (max-width: 320px) {
  .figma-style1-title {
    font-size: 15px !important;
    line-height: 1.2 !important;
  }

  .figma-style1-button {
    height: 44px !important;
  }

  .figma-style1-button-text {
    font-size: 13px !important;
  }
}

/* Simplified full-bleed for single-screen responsive layout */
.figma-style1-container {
  width: 100vw !important;
  height: 100vh !important;
  max-width: 100vw !important;
  max-height: 100vh !important;
  margin: 0 !important;
  padding: 0 !important;
  overflow: hidden !important;
  position: relative !important;
  display: block !important; /* Override app-container flex */
}

/* Override global.css app-container conflicts for figma-style1 */
.app-container .figma-style1-container {
  height: 100vh !important;
  min-height: 100vh !important;
  flex: none !important;
}

.app-container .figma-style1-content {
  height: 100vh !important;
  min-height: 100vh !important;
  overflow: hidden !important;
}

/* Ensure figma-style1 works on desktop frame too */
@media (min-width: 1081px) {
  .app-container .figma-style1-container {
    width: 100% !important;
    height: 100% !important;
    margin: 0 !important;
    border-radius: 0 !important;
    box-shadow: none !important;
  }
}

/* Also remove any horizontal padding from app-container when rendering figma-style1 */
.app-container > .figma-style1-container {
  padding-left: 0 !important;
  padding-right: 0 !important;
  margin-left: 0 !important;
  margin-right: 0 !important;
  max-width: none !important;
  width: 100vw !important;
}

/* Simplified desktop handling - let the responsive grid system work */

/* Removed global app-container overrides - let global.css handle them normally */

/* Cleaned up device-specific rules - using simplified responsive system above */

/* Final compatibility rules: ensure figma-style1 works within app-container */
.app-container .figma-style1-container {
  flex: none !important; /* Don't let app-container flex affect us */
  min-height: 100vh !important; /* Ensure full viewport height */
}

/* Override any global.css interference without targeting Tailwind classes directly */
.figma-style1-container,
.figma-style1-content,
.figma-style1-main {
  min-height: 100vh !important;
  height: 100vh !important;
  overflow: hidden !important;
}
